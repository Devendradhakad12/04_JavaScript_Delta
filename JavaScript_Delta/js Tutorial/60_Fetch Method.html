<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>60_Fetch Method</title>
</head>
<body>
    <form id="my_form">
Title<input type="text" id="title"><br>
userID<input type="text" id="userID"><br>
Body<input type="text" id="body"><br>
<input type="Submit" id="sub">
    </form>



  <script>
    //1.Get file from our folder 
   let p = fetch("60_Fetch Method.txt")
    p.then((response)=>{
return response.text()   //if we have a only one parameter we also write like --> p.then((response)=> response.text()) 
    }).then((value)=>{
        console.log(value)
    })




    //2.Show JSON data 
    let q = fetch("https://jsonplaceholder.typicode.com/posts")
    q.then((r)=>{
        return r.json()
    }).then((value)=>{
        console.log(value)
    }).catch((err)=>{
        console.log(new Error("Can't Fetched data"))
    })




    //3.Uplode data on serever
    let obj = {
        
           title:'web',
           body:'pavan',
           userID:100,
            
    }
    let options = {
            method: "POST",// Update--> PUT,  delete-->DELETE,
            headers:{
          "Content-type":"application/json"
            },
            body:JSON.stringify(obj),
        }
    
        fetch('https://jsonplaceholder.typicode.com/posts',options)
 
 .then((response) => response.json())
  .then((json) => console.log(json)); 





  //4.User information uplode on server // Uplode form on serever

  document.getElementById('sub').addEventListener('click',function(e){
    e.preventDefault()
    var obj1 = {
        
        title: document.getElementById('title').Value,
        body: document.getElementById('body').Value,
        userID: document.getElementById('userID').Value
         
 }

                                                                            
     fetch('https://jsonplaceholder.typicode.com/posts',  {
         method: "POST",// Update--> PUT,  delete-->DELETE,
         headers:{
       "Content-type":"application/json"
         },
         body:JSON.stringify(obj1),
     }).then((response) => response.json())
.then((vl) => console.log(vl)); 
  })
 


/*  document.getElementById('sub').addEventListener('click',function(e){
    e.preventDefault()
    fetch('https://jsonplaceholder.typicode.com/posts',  {
         method: "POST",// Update--> PUT,  delete-->DELETE,
         headers:{
       "Content-type":"application/x-www-form-urlencoded"
         },
         body: new FormData(document.getElementById('my_form')),
     }).then((response) => response.json())
.then((vl) => console.log(vl)); 
  })
  */

  </script>  
</body>
</html>